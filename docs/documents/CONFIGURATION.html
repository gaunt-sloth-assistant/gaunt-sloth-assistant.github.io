<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CONFIGURATION | Gaunt Sloth Assistant - v1.0.0</title><meta name="description" content="Documentation for Gaunt Sloth Assistant"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Gaunt Sloth Assistant - v1.0.0</a><div id="tsd-toolbar-links"><a href="https://gaunt-sloth-assistant.github.io/docs-0.9/">0.9 (legacy docs)</a><a href="https://github.com/Galvanized-Pukeko/gaunt-sloth-assistant">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">CONFIGURATION</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="configuration" class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Populate <code>.gsloth.guidelines.md</code> with your project details and quality requirements.
A proper preamble is paramount for good inference.
Check <a href="https://github.com/Galvanized-Pukeko/gaunt-sloth-assistant/blob/main/.gsloth.guidelines.md">.gsloth.guidelines.md</a> for example.</p>
<p>Your project should have the following files in order for gsloth to function:</p>
<ul>
<li>Configuration file (one of):
<ul>
<li><code>.gsloth.config.js</code> (JavaScript module)</li>
<li><code>.gsloth.config.json</code> (JSON file)</li>
<li><code>.gsloth.config.mjs</code> (JavaScript module with explicit module extension)</li>
</ul>
</li>
<li><code>.gsloth.guidelines.md</code></li>
</ul>
<blockquote>
<p>Gaunt Sloth currently only functions from the directory which has one of the configuration files and <code>.gsloth.guidelines.md</code>. Configuration files can be located in the project root or in the <code>.gsloth/.gsloth-settings/</code> directory.</p>
<p>You can also specify a path to a configuration file directly using the <code>-c</code> or <code>--config</code> global flag, for example <code>gth -c /path/to/your/config.json ask &quot;who are you?&quot;</code></p>
</blockquote>
<h2 id="using-gsloth-directory" class="tsd-anchor-link">Using .gsloth Directory<a href="#using-gsloth-directory" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For a tidier project structure, you can create a <code>.gsloth</code> directory in your project root. When this directory exists, gsloth will:</p>
<ol>
<li>Write all output files (like responses from commands) to the <code>.gsloth</code> directory instead of the project root</li>
<li>Look for configuration files in <code>.gsloth/.gsloth-settings/</code> subdirectory</li>
</ol>
<p>Example directory structure when using the <code>.gsloth</code> directory:</p>
<pre><code><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">/.</span><span class="hl-7">gsloth</span><span class="hl-1">-</span><span class="hl-7">settings</span><span class="hl-1">/.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-7">json</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">/.</span><span class="hl-7">gsloth</span><span class="hl-1">-</span><span class="hl-7">settings</span><span class="hl-1">/.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">guidelines</span><span class="hl-1">.</span><span class="hl-7">md</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">/.</span><span class="hl-7">gsloth</span><span class="hl-1">-</span><span class="hl-7">settings</span><span class="hl-1">/.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">review</span><span class="hl-1">.</span><span class="hl-7">md</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">/</span><span class="hl-7">gth_2025</span><span class="hl-1">-</span><span class="hl-3">05</span><span class="hl-1">-</span><span class="hl-3">18_09</span><span class="hl-1">-</span><span class="hl-3">34</span><span class="hl-1">-38</span><span class="hl-7">_ASK</span><span class="hl-1">.</span><span class="hl-7">md</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">/</span><span class="hl-7">gth_2025</span><span class="hl-1">-</span><span class="hl-3">05</span><span class="hl-1">-</span><span class="hl-3">18_22</span><span class="hl-1">-</span><span class="hl-3">09</span><span class="hl-1">-00</span><span class="hl-7">_PR</span><span class="hl-1">-22.</span><span class="hl-7">md</span>
</code><button>Copy</button></pre>

<p>If the <code>.gsloth</code> directory doesn't exist, gsloth will continue writing all files to the project root directory as it did previously.</p>
<p><strong>Note:</strong> When initializing a project with an existing <code>.gsloth</code> directory, the configuration files will be created in the <code>.gsloth/.gsloth-settings</code> directory automatically. There is no automated migration for existing configurations - if you create a <code>.gsloth</code> directory after initialization, you'll need to manually move your configuration files into the <code>.gsloth/.gsloth-settings</code> directory.</p>
<h3 id="identity-profiles" class="tsd-anchor-link">Identity profiles<a href="#identity-profiles" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Sometimes two different teams have different perspectives of a project.
For example, developers may want to review the code for code quality.
DevOps may want to be notified when some configuration files or docker image their configurations of Gaunt Sloth
may be so different that this is better to keep them in complete separation.</p>
<p>Identity profiles may be used to define different Gaunt Sloth identities for different purposes.</p>
<p>Identity profiles can only be activated in directory-based configuration.
<code>gth -i devops pr PR_NO</code> is invoked, the configuration is pulled from <code>.gsloth/.gsloth-settings/devops/</code> directory,
which may contain a full set of config files:</p>
<pre><code><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">backstory</span><span class="hl-1">.</span><span class="hl-7">md</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-7">json</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">guidelines</span><span class="hl-1">.</span><span class="hl-7">md</span><br/><span class="hl-1">.</span><span class="hl-7">gsloth</span><span class="hl-1">.</span><span class="hl-7">review</span><span class="hl-1">.</span><span class="hl-7">md</span>
</code><button>Copy</button></pre>

<p>When no identity profile is specified in the command, for example <code>gth pr PR_NO</code>,
the configuration is pulled from the <code>.gsloth/.gsloth-settings/</code> directory.</p>
<p><code>-i</code> or <code>-identity-profile</code> overrides entire configuration directory, which means it should contain
a configuration file and prompt files. In the case if some prompt files are missing, they will be
fetched from the installation directory.</p>
<h3 id="controlling-output-files" class="tsd-anchor-link">Controlling Output Files<a href="#controlling-output-files" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default, Gaunt Sloth writes each response to <code>gth_&lt;timestamp&gt;_&lt;COMMAND&gt;.md</code> under <code>.gsloth/</code> (or the project root).
Set <code>writeOutputToFile</code> in your config to:</p>
<ul>
<li><code>true</code> (default) for standard filenames,</li>
<li><code>false</code> to skip writing files,</li>
<li>a string for a custom path (behavior depends on the format):
<ul>
<li><strong>Bare filenames</strong> (e.g. <code>&quot;review.md&quot;</code>) are placed in <code>.gsloth/</code> when it exists, otherwise project root</li>
<li><strong>Paths with separators</strong> (e.g. <code>&quot;./review.md&quot;</code> or <code>&quot;reviews/last.md&quot;</code>) are always relative to project root</li>
</ul>
</li>
</ul>
<p><strong>Examples:</strong></p>
<ul>
<li><code>&quot;review.md&quot;</code> → <code>.gsloth/review.md</code> (when <code>.gsloth</code> exists) or <code>review.md</code> (otherwise)</li>
<li><code>&quot;./review.md&quot;</code> → <code>review.md</code> (always project root)</li>
<li><code>&quot;reviews/last.md&quot;</code> → <code>reviews/last.md</code> (always relative to project root)</li>
</ul>
<p>Override the setting per run with <code>-w/--write-output-to-file true|false|&lt;filename&gt;</code>. Shortcuts <code>-wn</code> or <code>-w0</code> map to <code>false</code>.</p>
<h2 id="configuration-object" class="tsd-anchor-link">Configuration Object<a href="#configuration-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Refer to documentation site for <a href="https://gaunt-sloth-assistant.github.io/docs/interfaces/config.GthConfig.html">Configuration Interface</a></p>
<p>Refer to documentation site for <a href="https://gaunt-sloth-assistant.github.io/docs/variables/config.DEFAULT_CONFIG.html">Default Config Values</a></p>
<p>It is always worth checking sourcecode in <a href="../modules/config.html">config.ts</a> for more insightful information.</p>
<h2 id="config-initialization" class="tsd-anchor-link">Config initialization<a href="#config-initialization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Configuration can be created with <code>gsloth init [vendor]</code> command.
Currently, anthropic, groq, deepseek, openai, google-genai, vertexai, openrouter and xai can be configured with <code>gsloth init [vendor]</code>.
For providers using OpenAI format (like Inception), use <code>gsloth init openai</code> and then modify the configuration.</p>
<h3 id="google-genai-ai-studio" class="tsd-anchor-link">Google GenAI (AI Studio)<a href="#google-genai-ai-studio" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">google-genai</span>
</code><button type="button">Copy</button></pre>

<h3 id="google-vertex-ai" class="tsd-anchor-link">Google Vertex AI<a href="#google-vertex-ai" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">vertexai</span><br/><span class="hl-0">gcloud</span><span class="hl-1"> </span><span class="hl-2">auth</span><span class="hl-1"> </span><span class="hl-2">login</span><br/><span class="hl-0">gcloud</span><span class="hl-1"> </span><span class="hl-2">auth</span><span class="hl-1"> </span><span class="hl-2">application-default</span><span class="hl-1"> </span><span class="hl-2">login</span>
</code><button type="button">Copy</button></pre>

<h3 id="anthropic" class="tsd-anchor-link">Anthropic<a href="#anthropic" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">anthropic</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>ANTHROPIC_API_KEY</code> environment variable or edit your configuration file and set up your key.</p>
<h3 id="groq" class="tsd-anchor-link">Groq<a href="#groq" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">groq</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>GROQ_API_KEY</code> environment variable or edit your configuration file and set up your key.</p>
<h3 id="deepseek" class="tsd-anchor-link">DeepSeek<a href="#deepseek" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">deepseek</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>DEEPSEEK_API_KEY</code> environment variable or edit your configuration file and set up your key.
(note this meant to be an API key from deepseek.com, rather than from a distributor like TogetherAI)</p>
<h3 id="openai" class="tsd-anchor-link">OpenAI<a href="#openai" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">openai</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>OPENAI_API_KEY</code> environment variable or edit your configuration file and set up your key.</p>
<h3 id="open-router" class="tsd-anchor-link">Open Router<a href="#open-router" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">openrouter</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>OPEN_ROUTER_API_KEY</code> environment variable or edit your configuration file and set up your key.</p>
<h3 id="other-openai-compatible-providers-inception-etc" class="tsd-anchor-link">Other OpenAI-compatible providers (Inception, etc.)<a href="#other-openai-compatible-providers-inception-etc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>For providers that use OpenAI-compatible APIs:</p>
<pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">openai</span>
</code><button type="button">Copy</button></pre>

<p>Then edit your configuration file to add the custom base URL and API key. For example, for Inception:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;mercury-coder&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKeyEnvironmentVariable&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;INCEPTION_API_KEY&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;configuration&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;baseURL&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://api.inceptionlabs.ai/v1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>apiKeyEnvironmentVariable property can be used to point to the correct API key environment variable.</li>
</ul>
<h3 id="xai" class="tsd-anchor-link">xAI<a href="#xai" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">./your-project</span><br/><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">init</span><span class="hl-1"> </span><span class="hl-2">xai</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>XAI_API_KEY</code> environment variable or edit your configuration file and set up your key.</p>
<h2 id="examples-of-configuration-for-different-providers" class="tsd-anchor-link">Examples of configuration for different providers<a href="#examples-of-configuration-for-different-providers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="json-configuration-gslothconfigjson" class="tsd-anchor-link">JSON Configuration (.gsloth.config.json)<a href="#json-configuration-gslothconfigjson" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>JSON configuration is simpler but less flexible than JavaScript configuration. It should directly contain the configuration object.</p>
<p><strong>Example of .gsloth.config.json for Anthropic</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;anthropic&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-api-key-here&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>ANTHROPIC_API_KEY</code> environment variable instead of specifying <code>apiKey</code> in the config.</p>
<p><strong>Example of .gsloth.config.json for Groq</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;groq&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;deepseek-r1-distill-llama-70b&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-api-key-here&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>GROQ_API_KEY</code> environment variable instead of specifying <code>apiKey</code> in the config.</p>
<p><strong>Example of .gsloth.config.json for DeepSeek</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;deepseek&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;deepseek-reasoner&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-api-key-here&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>DEEPSEEK_API_KEY</code> environment variable instead of specifying <code>apiKey</code> in the config.</p>
<p><strong>Example of .gsloth.config.json for OpenAI</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gpt-4o&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-api-key-here&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>OPENAI_API_KEY</code> environment variable instead of specifying <code>apiKey</code> in the config.</p>
<p><strong>Example of .gsloth.config.json for Inception (OpenAI-compatible)</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;mercury-coder&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKeyEnvironmentVariable&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;INCEPTION_API_KEY&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;configuration&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;baseURL&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://api.inceptionlabs.ai/v1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>INCEPTION_API_KEY</code> environment variable as specified in <code>apiKeyEnvironmentVariable</code>.</p>
<p><strong>Example of .gsloth.config.json for Google GenAI</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;google-genai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-api-key-here&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>GOOGLE_API_KEY</code> environment variable instead of specifying <code>apiKey</code> in the config.</p>
<p><strong>Example of .gsloth.config.json for VertexAI</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>VertexAI typically uses gcloud authentication; no <code>apiKey</code> is needed in the config.</p>
<p><strong>Example of .gsloth.config.json for Open Router</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;openrouter&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;moonshotai/kimi-k2&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Make sure you either define <code>OPEN_ROUTER_API_KEY</code> environment variable or edit your configuration file and set up your key.
When changing a model, make sure you're using a model which supports tools.</p>
<p><strong>Example of .gsloth.config.json for xAI</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;xai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;grok-4-0709&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;apiKey&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;your-api-key-here&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can use the <code>XAI_API_KEY</code> environment variable instead of specifying <code>apiKey</code> in the config.</p>
<h3 id="javascript-configuration" class="tsd-anchor-link">JavaScript Configuration<a href="#javascript-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>(.gsloth.config.js or .gsloth.config.mjs)</p>
<p>JavaScript configuration provides more flexibility than JSON configuration, allowing you to use dynamic imports and include custom tools.</p>
<p><strong>For a complete working example</strong> demonstrating custom middleware and custom tools, see:</p>
<ul>
<li><a href="../media/README.md">JavaScript Config Example README</a> - Full documentation and usage guide</li>
<li><a href="../media/.gsloth.config.js">Example Config File</a> - Complete working example with custom logging middleware and custom logger tool</li>
</ul>
<p>The example demonstrates:</p>
<ul>
<li>Custom middleware with all lifecycle hooks (<code>beforeAgent</code>, <code>beforeModel</code>, <code>afterModel</code>, <code>afterAgent</code>)</li>
<li>Custom tool creation using LangChain's <code>tool()</code> API</li>
<li>Combining built-in and custom middleware</li>
<li>Practical patterns for extending Gaunt Sloth functionality</li>
</ul>
<p><strong>Example with Custom Tools</strong></p>
<pre><code class="javascript"><span class="hl-4">// .gsloth.config.mjs</span><br/><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-7">tool</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@langchain/core/tools&#39;</span><span class="hl-1">;</span><br/><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-7">z</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-2">&#39;zod&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">parrotTool</span><span class="hl-1"> = </span><span class="hl-0">tool</span><span class="hl-1">((</span><span class="hl-7">s</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">s</span><span class="hl-1">);</span><br/><span class="hl-1">}, {</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;parrot_tool&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">`This tool will simply print the string`</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">schema:</span><span class="hl-1"> </span><span class="hl-7">z</span><span class="hl-1">.</span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">anthropic</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/google-vertexai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">anthropic</span><span class="hl-1">.</span><span class="hl-0">ChatVertexAI</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gemini-2.5-pro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-7">tools:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-7">parrotTool</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for Anthropic</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">anthropic</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/anthropic&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">anthropic</span><span class="hl-1">.</span><span class="hl-0">ChatAnthropic</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">ANTHROPIC_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for Groq</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">groq</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/groq&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">groq</span><span class="hl-1">.</span><span class="hl-0">ChatGroq</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;deepseek-r1-distill-llama-70b&quot;</span><span class="hl-1">, </span><span class="hl-4">// Check other models available</span><br/><span class="hl-1">            </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">GROQ_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for DeepSeek</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">deepseek</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/deepseek&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">deepseek</span><span class="hl-1">.</span><span class="hl-0">ChatDeepSeek</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;deepseek-reasoner&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">DEEPSEEK_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for OpenAI</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">openai</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/openai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">openai</span><span class="hl-1">.</span><span class="hl-0">ChatOpenAI</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">OPENAI_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for Inception (OpenAI-compatible)</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">openai</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/openai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">openai</span><span class="hl-1">.</span><span class="hl-0">ChatOpenAI</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;mercury-coder&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">INCEPTION_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">            </span><span class="hl-7">configuration:</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-7">baseURL:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://api.inceptionlabs.ai/v1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            },</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for Google GenAI</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">googleGenai</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/google-genai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">googleGenai</span><span class="hl-1">.</span><span class="hl-0">ChatGoogleGenerativeAI</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;gemini-2.5-pro&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">GOOGLE_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for VertexAI</strong>
VertexAI usually needs <code>gcloud auth application-default login</code>
(or both <code>gcloud auth login</code> and <code>gcloud auth application-default login</code>) and does not need any separate API keys.</p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">vertexAi</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/google-vertexai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">vertexAi</span><span class="hl-1">.</span><span class="hl-0">ChatVertexAI</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">, </span><span class="hl-4">// Consider checking for latest recommended model versions</span><br/><span class="hl-1">            </span><span class="hl-4">// API Key from AI Studio should also work</span><br/><span class="hl-1">            </span><span class="hl-4">//// Other parameters might be relevant depending on Vertex AI API updates.</span><br/><span class="hl-1">            </span><span class="hl-4">//// The project is not in the interface, but it is in documentation and it seems to work.</span><br/><span class="hl-1">            </span><span class="hl-4">// project: &#39;your-cool-google-cloud-project&#39;,</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example of .gsloth.config.mjs for xAI</strong></p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">xai</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/xai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">xai</span><span class="hl-1">.</span><span class="hl-0">ChatXAI</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&#39;grok-4-0709&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-7">apiKey:</span><span class="hl-1"> </span><span class="hl-7">process</span><span class="hl-1">.</span><span class="hl-7">env</span><span class="hl-1">.</span><span class="hl-9">XAI_API_KEY</span><span class="hl-1">, </span><span class="hl-4">// Default value, but you can provide the key in many different ways, even as literal</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="using-other-ai-providers" class="tsd-anchor-link">Using other AI providers<a href="#using-other-ai-providers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The configure function should simply return instance of langchain <a href="https://v03.api.js.langchain.com/classes/_langchain_core.language_models_chat_models.BaseChatModel.html">chat model</a>.
See <a href="https://js.langchain.com/docs/tutorials/llm_chain/">Langchain documentation</a> for more details.</p>
<h2 id="integration-with-github-workflows-actions" class="tsd-anchor-link">Integration with GitHub Workflows / Actions<a href="#integration-with-github-workflows-actions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Example GitHub workflows integration can be found in <a href=".github/workflows/review.yml">.github/workflows/review.yml</a>
this example workflow performs AI review on any pushes to Pull Request, resulting in a comment left by,
GitHub actions bot.</p>
<h2 id="model-context-protocol-mcp" class="tsd-anchor-link">Model Context Protocol (MCP)<a href="#model-context-protocol-mcp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Gaunt Sloth Assistant supports the Model Context Protocol (MCP), which provides enhanced context management. You can connect to various MCP servers, including those requiring OAuth authentication.</p>
<h3 id="oauth-enabled-mcp-servers" class="tsd-anchor-link">OAuth-enabled MCP Servers<a href="#oauth-enabled-mcp-servers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Gaunt Sloth now supports OAuth authentication for MCP servers. This has been tested with the Atlassian Jira MCP server.</p>
<h4 id="example-atlassian-jira-mcp-server" class="tsd-anchor-link">Example: Atlassian Jira MCP Server<a href="#example-atlassian-jira-mcp-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To connect to the Atlassian Jira MCP server using OAuth, add the following to your <code>.gsloth.config.json</code>:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;temperature&quot;</span><span class="hl-1">: </span><span class="hl-3">0</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;mcpServers&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;jira&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;url&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://mcp.atlassian.com/v1/sse&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;authProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;OAuth&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;transport&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;sse&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>For a complete working example, see <a href="../media/jira-mcp">examples/jira-mcp</a>.</p>
<p><strong>OAuth Authentication Flow:</strong></p>
<ol>
<li>When you first use a command that requires the MCP server, your browser will open automatically</li>
<li>Complete the OAuth authentication in your browser</li>
<li>The authentication tokens are stored securely in <code>~/.gsloth/.gsloth-auth/</code></li>
<li>Future sessions will use the stored tokens automatically</li>
</ol>
<p><strong>Token Storage:</strong></p>
<ul>
<li>OAuth tokens are stored in JSON files under <code>~/.gsloth/.gsloth-auth/</code></li>
<li>Each server's tokens are stored in a separate file named after the server URL</li>
<li>The storage location is cross-platform (Windows, macOS, Linux)</li>
</ul>
<h3 id="mcp-stdio-server-configuration" class="tsd-anchor-link">MCP stdio Server Configuration<a href="#mcp-stdio-server-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To configure local MCP server, add the <code>mcpServers</code> section to your configuration file,
for example, configuration for reference sequential thinking MCP follows:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;mcpServers&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;sequential-thinking&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;transport&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;stdio&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;command&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npx&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;args&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;-y&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">&quot;@modelcontextprotocol/server-sequential-thinking&quot;</span><br/><span class="hl-1">      ]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>This configuration launches the MCP filesystem server using npx, providing the LLM with access to the specified directory. The server uses stdio for communication with the LLM.</p>
<h2 id="content-providers" class="tsd-anchor-link">Content providers<a href="#content-providers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="github-issues" class="tsd-anchor-link">GitHub Issues<a href="#github-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Gaunt Sloth supports GitHub issues as a requirements provider using the GitHub CLI. This integration is simple to use and requires minimal setup.</p>
<p><strong>Prerequisites:</strong></p>
<ol>
<li><strong>GitHub CLI</strong>: Make sure the official <a href="https://cli.github.com/">GitHub CLI (gh)</a> is installed and authenticated</li>
<li><strong>Repository Access</strong>: Ensure you have access to the repository's issues</li>
</ol>
<p><strong>Usage:</strong></p>
<p>The command syntax is <code>gsloth pr &lt;prId&gt; [githubIssueId]</code>. For example:</p>
<pre><code class="bash"><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">pr</span><span class="hl-1"> </span><span class="hl-3">42</span><span class="hl-1"> </span><span class="hl-3">23</span>
</code><button type="button">Copy</button></pre>

<p>This will review PR #42 and include GitHub issue #23 as requirements.</p>
<p>To explicitly specify the GitHub issue provider:</p>
<pre><code class="bash"><span class="hl-0">gsloth</span><span class="hl-1"> </span><span class="hl-2">pr</span><span class="hl-1"> </span><span class="hl-3">42</span><span class="hl-1"> </span><span class="hl-3">23</span><span class="hl-1"> </span><span class="hl-5">-p</span><span class="hl-1"> </span><span class="hl-2">github</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration:</strong></p>
<p>To set GitHub as your default requirements provider, add this to your configuration file:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;pr&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;requirementsProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;github&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="jira" class="tsd-anchor-link">JIRA<a href="#jira" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Gaunt Sloth supports three methods to integrate with JIRA:</p>
<h4 id="atlassian-mcp" class="tsd-anchor-link">Atlassian MCP<a href="#atlassian-mcp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MCP can be used in <code>chat</code> and <code>code</code> commands.</p>
<p>Gaunt Sloth has OAuth client for MCP and is confirmed to work with public Jira MCP.</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;temperature&quot;</span><span class="hl-1">: </span><span class="hl-3">0</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;mcpServers&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;jira&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;url&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://mcp.atlassian.com/v1/sse&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;authProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;OAuth&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;transport&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;sse&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="1-modern-jira-rest-api-scoped-token" class="tsd-anchor-link">1. Modern Jira REST API (Scoped Token)<a href="#1-modern-jira-rest-api-scoped-token" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Jira API is used with <code>pr</code> and <code>review</code> commands.</p>
<p>This method uses the Atlassian REST API v3 with a Personal Access Token (PAT). It requires your Atlassian Cloud ID.</p>
<p><strong>Prerequisites:</strong></p>
<ol>
<li>
<p><strong>Cloud ID</strong>: You can find your Cloud ID by visiting <code>https://yourcompany.atlassian.net/_edge/tenant_info</code> while authenticated.</p>
</li>
<li>
<p><strong>Personal Access Token (PAT)</strong>: Create a PAT with the appropriate permissions from <code>Atlassian Account Settings -&gt; Security -&gt; Create and manage API tokens -&gt; [Create API token with scopes]</code>.</p>
<ul>
<li>For issue access, the recommended permission is <code>read:jira-work</code> (classic)</li>
<li>Alternatively granular access would require: <code>read:issue-meta:jira</code>, <code>read:issue-security-level:jira</code>, <code>read:issue.vote:jira</code>, <code>read:issue.changelog:jira</code>, <code>read:avatar:jira</code>, <code>read:issue:jira</code>, <code>read:status:jira</code>, <code>read:user:jira</code>, <code>read:field-configuration:jira</code></li>
</ul>
</li>
</ol>
<p>Refer to JIRA API documentation for more details <a href="https://developer.atlassian.com/cloud/jira/platform/rest/v3/api-group-issues/#api-rest-api-3-issue-issueidorkey-get">https://developer.atlassian.com/cloud/jira/platform/rest/v3/api-group-issues/#api-rest-api-3-issue-issueidorkey-get</a></p>
<p><strong>Environment Variables Support:</strong></p>
<p>For better security, you can set the JIRA username, token, and cloud ID using environment variables instead of placing them in the configuration file:</p>
<ul>
<li><code>JIRA_USERNAME</code>: Your JIRA username (e.g., <code>user@yourcompany.com</code>).</li>
<li><code>JIRA_API_PAT_TOKEN</code>: Your JIRA Personal Access Token with scopes.</li>
<li><code>JIRA_CLOUD_ID</code>: Your Atlassian Cloud ID.</li>
</ul>
<p>If these environment variables are set, they will take precedence over the values in the configuration file.</p>
<p>JSON:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;requirementsProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;jira&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;requirementsProviderConfig&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;jira&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;username&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;username@yourcompany.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;token&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;YOUR_JIRA_PAT_TOKEN&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;cloudId&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;YOUR_ATLASSIAN_CLOUD_ID&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Optionally displayUrl can be defined to have a clickable link in the output:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;requirementsProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;jira&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;requirementsProviderConfig&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;jira&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;displayUrl&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://yourcompany.atlassian.net/browse/&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>JavaScript:</p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">vertexAi</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/google-vertexai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">vertexAi</span><span class="hl-1">.</span><span class="hl-0">ChatVertexAI</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-7">requirementsProvider:</span><span class="hl-1"> </span><span class="hl-2">&#39;jira&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">requirementsProviderConfig:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;jira&#39;</span><span class="hl-7">:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;username@yourcompany.com&#39;</span><span class="hl-1">, </span><span class="hl-4">// Your Jira username/email</span><br/><span class="hl-1">        </span><span class="hl-7">token:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_JIRA_PAT_TOKEN&#39;</span><span class="hl-1">,        </span><span class="hl-4">// Your Personal Access Token</span><br/><span class="hl-1">        </span><span class="hl-7">cloudId:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_ATLASSIAN_CLOUD_ID&#39;</span><span class="hl-1">    </span><span class="hl-4">// Your Atlassian Cloud ID</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h5 id="automatic-work-logging-for-jira-reviews" class="tsd-anchor-link">Automatic work logging for Jira reviews<a href="#automatic-work-logging-for-jira-reviews" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5><p>When you pass a Jira issue ID to <code>gsloth pr</code> and use the modern Jira provider (<code>requirementsProvider: &quot;jira&quot;</code>),
you can ask Gaunt Sloth to log review time back to that issue automatically by setting
<code>commands.pr.logWorkForReviewInSeconds</code>. The value is recorded as worklog seconds after each PR review.</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;pr&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;requirementsProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;jira&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;logWorkForReviewInSeconds&quot;</span><span class="hl-1">: </span><span class="hl-3">600</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>This automation only runs when a <code>requirementsId</code> is supplied on the command line and the provider resolves to <code>jira</code>.</p>
<h4 id="2-legacy-jira-rest-api-unscoped-token" class="tsd-anchor-link">2. Legacy Jira REST API (Unscoped Token)<a href="#2-legacy-jira-rest-api-unscoped-token" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Jira API is used with <code>pr</code> and <code>review</code> commands.</p>
<p>This uses the Unscoped API token (Aka Legacy API token) method with REST API v2.</p>
<p>A legacy token can be acquired from <code>Atlassian Account Settings -&gt; Security -&gt; Create and manage API tokens -&gt; [Create API token without scopes]</code>.</p>
<p>Example configuration setting up JIRA integration using a legacy API token for both <code>review</code> and <code>pr</code> commands.
Make sure you use your actual company domain in <code>baseUrl</code> and your personal legacy <code>token</code>.</p>
<p><strong>Environment Variables Support:</strong></p>
<p>For better security, you can set the JIRA username and token using environment variables instead of placing them in the configuration file:</p>
<ul>
<li><code>JIRA_USERNAME</code>: Your JIRA username (e.g., <code>user@yourcompany.com</code>).</li>
<li><code>JIRA_LEGACY_API_TOKEN</code>: Your JIRA legacy API token.</li>
</ul>
<p>If these environment variables are set, they will take precedence over the values in the configuration file.</p>
<p>JSON:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;vertexai&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;requirementsProvider&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;jira-legacy&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;requirementsProviderConfig&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;jira-legacy&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;username&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;username@yourcompany.com&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;token&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;YOUR_JIRA_LEGACY_TOKEN&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;baseUrl&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;https://yourcompany.atlassian.net/rest/api/2/issue/&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>JavaScript:</p>
<pre><code class="javascript"><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">vertexAi</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/google-vertexai&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">vertexAi</span><span class="hl-1">.</span><span class="hl-0">ChatVertexAI</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;gemini-2.5-pro&quot;</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-7">requirementsProvider:</span><span class="hl-1"> </span><span class="hl-2">&#39;jira-legacy&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">requirementsProviderConfig:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">&#39;jira-legacy&#39;</span><span class="hl-7">:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;username@yourcompany.com&#39;</span><span class="hl-1">, </span><span class="hl-4">// Your Jira username/email</span><br/><span class="hl-1">        </span><span class="hl-7">token:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_JIRA_LEGACY_TOKEN&#39;</span><span class="hl-1">,     </span><span class="hl-4">// Replace with your real Jira API token</span><br/><span class="hl-1">        </span><span class="hl-7">baseUrl:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://yourcompany.atlassian.net/rest/api/2/issue/&#39;</span><span class="hl-1">  </span><span class="hl-4">// Your Jira instance base URL</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="development-tools-configuration" class="tsd-anchor-link">Development Tools Configuration<a href="#development-tools-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>code</code> command can be configured with development tools via <code>commands.code.devTools</code>. These tools allow the AI to run build, tests, lint, and single tests using the specified commands.</p>
<p>The tools are defined in <code>src/tools/GthDevToolkit.ts</code> and include:</p>
<ul>
<li><strong>run_tests</strong>: Executes the full test suite.</li>
<li><strong>run_single_test</strong>: Runs a single test file. The test path must be relative.</li>
<li><strong>run_lint</strong>: Runs the linter, potentially with auto-fix.</li>
<li><strong>run_build</strong>: Builds the project.</li>
</ul>
<p>These tools execute the configured shell commands and capture their output.</p>
<p>Example configuration including dev tools (from .gsloth.config.json):</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;xai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;grok-4-0709&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;code&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;filesystem&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;all&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;devTools&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;run_build&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm build&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;run_tests&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm test&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;run_lint&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm run lint-n-fix&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;run_single_test&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm test&quot;</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Note: For <code>run_single_test</code>, the command can include a placeholder like <code>${testPath}</code> for the test file path.
Security validations are in place to prevent path traversal or injection.</p>
<h2 id="middleware-configuration" class="tsd-anchor-link">Middleware Configuration<a href="#middleware-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Gaunt Sloth supports middleware to intercept and control agent execution at critical points. Middleware provides hooks for cost optimization, conversation management, and custom logic.</p>
<h3 id="predefined-middleware" class="tsd-anchor-link">Predefined Middleware<a href="#predefined-middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>There are two predefined middleware types available:</p>
<h4 id="anthropic-prompt-caching-middleware" class="tsd-anchor-link">Anthropic Prompt Caching Middleware<a href="#anthropic-prompt-caching-middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Reduces API costs by caching prompts (Anthropic models only):</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;anthropic&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;middleware&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;anthropic-prompt-caching&quot;</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>With custom TTL configuration:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;middleware&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;anthropic-prompt-caching&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;ttl&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;5m&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>TTL options: <code>&quot;5m&quot;</code> (5 minutes) or <code>&quot;1h&quot;</code> (1 hour)</p>
<h4 id="summarization-middleware" class="tsd-anchor-link">Summarization Middleware<a href="#summarization-middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Automatically condenses conversation history when approaching token limits:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;middleware&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;summarization&quot;</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>With custom configuration:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;middleware&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;summarization&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;maxTokensBeforeSummary&quot;</span><span class="hl-1">: </span><span class="hl-3">8000</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;messagesToKeep&quot;</span><span class="hl-1">: </span><span class="hl-3">5</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Configuration options:</p>
<ul>
<li><code>maxTokensBeforeSummary</code>: Maximum tokens before triggering summarization (default: 10000)</li>
<li><code>messagesToKeep</code>: Number of recent messages to keep after summarization</li>
<li><code>summaryPrompt</code>: Custom prompt template for summarization</li>
<li><code>model</code>: Custom model for summarization (defaults to main LLM)</li>
</ul>
<h3 id="multiple-middleware" class="tsd-anchor-link">Multiple Middleware<a href="#multiple-middleware" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can combine multiple middleware:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;anthropic&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;middleware&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;anthropic-prompt-caching&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;summarization&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;maxTokensBeforeSummary&quot;</span><span class="hl-1">: </span><span class="hl-3">12000</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-middleware-javascript-config-only" class="tsd-anchor-link">Custom Middleware (JavaScript Config Only)<a href="#custom-middleware-javascript-config-only" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Custom middleware objects are only available in JavaScript configurations:</p>
<pre><code class="javascript"><span class="hl-4">// .gsloth.config.mjs</span><br/><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> </span><span class="hl-5">function</span><span class="hl-1"> </span><span class="hl-0">configure</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">anthropic</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-5">import</span><span class="hl-1">(</span><span class="hl-2">&#39;@langchain/anthropic&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-8">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">llm:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">anthropic</span><span class="hl-1">.</span><span class="hl-0">ChatAnthropic</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-7">model:</span><span class="hl-1"> </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">    </span><span class="hl-7">middleware:</span><span class="hl-1"> [</span><br/><span class="hl-1">      </span><span class="hl-2">&quot;summarization&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-0">beforeModel</span><span class="hl-7">:</span><span class="hl-1"> (</span><span class="hl-7">state</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">// Custom logic before model execution</span><br/><span class="hl-1">          </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Processing request...&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-7">state</span><span class="hl-1">;</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-0">afterModel</span><span class="hl-7">:</span><span class="hl-1"> (</span><span class="hl-7">state</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">// Custom logic after model execution</span><br/><span class="hl-1">          </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Model completed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">          </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-7">state</span><span class="hl-1">;</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="review-rating-configuration" class="tsd-anchor-link">Review Rating Configuration<a href="#review-rating-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>review</code> and <code>pr</code> commands <strong>automatically provide</strong> automated review scoring with configurable pass/fail thresholds. <strong>Rating is enabled by default</strong> - the AI concludes every review with a numerical rating (0-10) and a comment explaining the rating.</p>
<h3 id="rating-scale" class="tsd-anchor-link">Rating Scale<a href="#rating-scale" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>0-2</strong>: Bad code with syntax errors or critical issues (equivalent to REJECT)</li>
<li><strong>3-5</strong>: Code needs significant changes (equivalent to REQUEST_CHANGES)</li>
<li><strong>6-10</strong>: Code is acceptable (equivalent to APPROVE)</li>
</ul>
<h3 id="default-behavior" class="tsd-anchor-link">Default Behavior<a href="#default-behavior" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Out of the box, without any configuration:</strong></p>
<ul>
<li>✅ Rating is <strong>enabled</strong></li>
<li>✅ Pass threshold is <strong>6/10</strong></li>
<li>✅ Failed reviews (&lt; 6) <strong>exit with code 1</strong> for CI/CD integration</li>
</ul>
<h3 id="configuration-options" class="tsd-anchor-link">Configuration Options<a href="#configuration-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can customize rating behavior for <code>review</code> and <code>pr</code> commands under <code>commands.review.rating</code> or <code>commands.pr.rating</code>:</p>
<ul>
<li><strong><code>enabled</code></strong> (boolean, default: <code>true</code>): Enable or disable review rating</li>
<li><strong><code>passThreshold</code></strong> (number 0-10, default: <code>6</code>): Minimum score required to pass the review</li>
<li><strong><code>minRating</code></strong> (number, default: <code>0</code>): Lower bound for the rating scale</li>
<li><strong><code>maxRating</code></strong> (number, default: <code>10</code>): Upper bound for the rating scale</li>
<li><strong><code>errorOnReviewFail</code></strong> (boolean, default: <code>true</code>): Exit with error code 1 when review fails (below threshold)</li>
</ul>
<h3 id="example-configurations" class="tsd-anchor-link">Example Configurations<a href="#example-configurations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong>Default configuration (no config needed):</strong></p>
<p>Rating works out of the box with no configuration required! The defaults provide sensible CI/CD integration.</p>
<p><strong>Disable rating:</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;review&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;rating&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Custom threshold:</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;review&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;rating&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;passThreshold&quot;</span><span class="hl-1">: </span><span class="hl-3">8</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Different thresholds for review and PR:</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;anthropic&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;review&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;rating&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;passThreshold&quot;</span><span class="hl-1">: </span><span class="hl-3">6</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;errorOnReviewFail&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;pr&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;rating&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;passThreshold&quot;</span><span class="hl-1">: </span><span class="hl-3">7</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;errorOnReviewFail&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Rating without failing the build:</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;commands&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;review&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;rating&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;enabled&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;passThreshold&quot;</span><span class="hl-1">: </span><span class="hl-3">6</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;errorOnReviewFail&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="output-format" class="tsd-anchor-link">Output Format<a href="#output-format" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When rating is enabled, the review will conclude with a clearly formatted rating section:</p>
<pre><code><span class="hl-1">============================================================</span><br/><span class="hl-9">REVIEW</span><span class="hl-1"> </span><span class="hl-9">RATING</span><br/><span class="hl-1">============================================================</span><br/><span class="hl-9">PASS</span><span class="hl-1"> </span><span class="hl-3">8</span><span class="hl-1">/</span><span class="hl-3">10</span><span class="hl-1"> (</span><span class="hl-7">threshold</span><span class="hl-1">: </span><span class="hl-3">6</span><span class="hl-1">)</span><br/><br/><span class="hl-1">Comment: Code quality is good with minor improvements needed.</span><br/><span class="hl-1">Well-structured and follows best practices.</span><br/><span class="hl-1">============================================================</span>
</code><button>Copy</button></pre>

<p>For failing reviews:</p>
<pre><code><span class="hl-1">============================================================</span><br/><span class="hl-9">REVIEW</span><span class="hl-1"> </span><span class="hl-9">RATING</span><br/><span class="hl-1">============================================================</span><br/><span class="hl-9">FAIL</span><span class="hl-1"> </span><span class="hl-3">4</span><span class="hl-1">/</span><span class="hl-3">10</span><span class="hl-1"> (</span><span class="hl-7">threshold</span><span class="hl-1">: </span><span class="hl-3">6</span><span class="hl-1">)</span><br/><br/><span class="hl-1">Comment: Significant issues found requiring refactoring</span><br/><span class="hl-1">before this code can be merged.</span><br/><span class="hl-1">============================================================</span>
</code><button>Copy</button></pre>

<h3 id="cicd-integration" class="tsd-anchor-link">CI/CD Integration<a href="#cicd-integration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When <code>errorOnReviewFail</code> is set to <code>true</code> (default), failed reviews will exit with code 1, which will fail CI/CD pipeline steps. This is useful for enforcing code quality standards in automated workflows.</p>
<p>Example usage in GitHub Actions:</p>
<pre><code class="yaml">- name: Run code review
  run: gsloth review -f changed-files.diff
  # This step will fail if rating is below threshold
</code><button type="button">Copy</button></pre>

<h2 id="server-tools-configuration" class="tsd-anchor-link">Server Tools Configuration<a href="#server-tools-configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Some AI providers provide integrated server tools, such as web search.</p>
<p><strong>.gsloth.config.json for OpenAI Web Search</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;openai&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;gpt-4o&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;tools&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    { </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;web_search_preview&quot;</span><span class="hl-1"> }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>.gsloth.config.json for Anthropic Web Search</strong></p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;llm&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;anthropic&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;claude-sonnet-4-5&quot;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;tools&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;web_search_20250305&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;name&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;web_search&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">&quot;max_uses&quot;</span><span class="hl-1">: </span><span class="hl-3">10</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-alpha" name="alpha"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Alpha</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-beta" name="beta"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Beta</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#configuration"><span>Configuration</span></a><ul><li><a href="#using-gsloth-directory"><span>Using .gsloth <wbr/>Directory</span></a></li><li><ul><li><a href="#identity-profiles"><span>Identity profiles</span></a></li><li><a href="#controlling-output-files"><span>Controlling <wbr/>Output <wbr/>Files</span></a></li></ul></li><li><a href="#configuration-object"><span>Configuration <wbr/>Object</span></a></li><li><a href="#config-initialization"><span>Config initialization</span></a></li><li><ul><li><a href="#google-genai-ai-studio"><span>Google <wbr/>Gen<wbr/>AI (<wbr/>AI <wbr/>Studio)</span></a></li><li><a href="#google-vertex-ai"><span>Google <wbr/>Vertex <wbr/>AI</span></a></li><li><a href="#anthropic"><span>Anthropic</span></a></li><li><a href="#groq"><span>Groq</span></a></li><li><a href="#deepseek"><span>Deep<wbr/>Seek</span></a></li><li><a href="#openai"><span>Open<wbr/>AI</span></a></li><li><a href="#open-router"><span>Open <wbr/>Router</span></a></li><li><a href="#other-openai-compatible-providers-inception-etc"><span>Other <wbr/>Open<wbr/>AI-<wbr/>compatible providers (<wbr/>Inception, etc.)</span></a></li><li><a href="#xai"><span>x<wbr/>AI</span></a></li></ul></li><li><a href="#examples-of-configuration-for-different-providers"><span>Examples of configuration for different providers</span></a></li><li><ul><li><a href="#json-configuration-gslothconfigjson"><span>JSON <wbr/>Configuration (.gsloth.config.json)</span></a></li><li><a href="#javascript-configuration"><span>Java<wbr/>Script <wbr/>Configuration</span></a></li></ul></li><li><a href="#using-other-ai-providers"><span>Using other <wbr/>AI providers</span></a></li><li><a href="#integration-with-github-workflows-actions"><span>Integration with <wbr/>Git<wbr/>Hub <wbr/>Workflows / <wbr/>Actions</span></a></li><li><a href="#model-context-protocol-mcp"><span>Model <wbr/>Context <wbr/>Protocol (<wbr/>MCP)</span></a></li><li><ul><li><a href="#oauth-enabled-mcp-servers"><span>O<wbr/>Auth-<wbr/>enabled <wbr/>MCP <wbr/>Servers</span></a></li><li><ul><li><a href="#example-atlassian-jira-mcp-server"><span>Example: <wbr/>Atlassian <wbr/>Jira <wbr/>MCP <wbr/>Server</span></a></li></ul></li><li><a href="#mcp-stdio-server-configuration"><span>MCP stdio <wbr/>Server <wbr/>Configuration</span></a></li></ul></li><li><a href="#content-providers"><span>Content providers</span></a></li><li><ul><li><a href="#github-issues"><span>Git<wbr/>Hub <wbr/>Issues</span></a></li><li><a href="#jira"><span>JIRA</span></a></li><li><ul><li><a href="#atlassian-mcp"><span>Atlassian <wbr/>MCP</span></a></li><li><a href="#1-modern-jira-rest-api-scoped-token"><span>1. <wbr/>Modern <wbr/>Jira <wbr/>REST <wbr/>API (<wbr/>Scoped <wbr/>Token)</span></a></li><li><ul><li><a href="#automatic-work-logging-for-jira-reviews"><span>Automatic work logging for <wbr/>Jira reviews</span></a></li></ul></li><li><a href="#2-legacy-jira-rest-api-unscoped-token"><span>2. <wbr/>Legacy <wbr/>Jira <wbr/>REST <wbr/>API (<wbr/>Unscoped <wbr/>Token)</span></a></li></ul></li></ul></li><li><a href="#development-tools-configuration"><span>Development <wbr/>Tools <wbr/>Configuration</span></a></li><li><a href="#middleware-configuration"><span>Middleware <wbr/>Configuration</span></a></li><li><ul><li><a href="#predefined-middleware"><span>Predefined <wbr/>Middleware</span></a></li><li><ul><li><a href="#anthropic-prompt-caching-middleware"><span>Anthropic <wbr/>Prompt <wbr/>Caching <wbr/>Middleware</span></a></li><li><a href="#summarization-middleware"><span>Summarization <wbr/>Middleware</span></a></li></ul></li><li><a href="#multiple-middleware"><span>Multiple <wbr/>Middleware</span></a></li><li><a href="#custom-middleware-javascript-config-only"><span>Custom <wbr/>Middleware (<wbr/>Java<wbr/>Script <wbr/>Config <wbr/>Only)</span></a></li></ul></li><li><a href="#review-rating-configuration"><span>Review <wbr/>Rating <wbr/>Configuration</span></a></li><li><ul><li><a href="#rating-scale"><span>Rating <wbr/>Scale</span></a></li><li><a href="#default-behavior"><span>Default <wbr/>Behavior</span></a></li><li><a href="#configuration-options"><span>Configuration <wbr/>Options</span></a></li><li><a href="#example-configurations"><span>Example <wbr/>Configurations</span></a></li><li><a href="#output-format"><span>Output <wbr/>Format</span></a></li><li><a href="#cicd-integration"><span>CI/<wbr/>CD <wbr/>Integration</span></a></li></ul></li><li><a href="#server-tools-configuration"><span>Server <wbr/>Tools <wbr/>Configuration</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://gaunt-sloth-assistant.github.io/docs-0.9/" class="tsd-nav-link">0.9 (legacy docs)</a><a href="https://github.com/Galvanized-Pukeko/gaunt-sloth-assistant" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../modules.html">Gaunt Sloth Assistant - v1.0.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
